# ShopMatch Pro - One-Day MVP Implementation Plan

**Objective**: Complete all core job board features in one day to create a demonstrable MVP.

**Current Status**: Authentication and Stripe subscriptions are production-ready. Need to implement job posting, applications, and dashboards.

**Timeline**: 8-10 hours of focused development

---

## Table of Contents

1. [Executive Summary](#executive-summary)
2. [Complete Data Models](#complete-data-models)
3. [API Endpoints Specification](#api-endpoints-specification)
4. [Page & Route Structure](#page--route-structure)
5. [UI Components Needed](#ui-components-needed)
6. [Firestore Security Rules](#firestore-security-rules)
7. [Implementation Sequence](#implementation-sequence)
8. [Design Specifications for AI Tools](#design-specifications-for-ai-tools)
9. [Testing Checklist](#testing-checklist)

---

## Executive Summary

### What We're Building Today

**Core Features**:
1. **Job Posting System** - Owners can create, edit, delete, and view their job postings
2. **Job Discovery** - Public browsing of all published jobs with filtering
3. **Application System** - Seekers can apply to jobs, owners can review applications
4. **Dashboards** - Role-based dashboards for owners and seekers

### Parallel Workstreams

These can be worked on simultaneously:

**Workstream A: Backend & API** (3-4 hours)
- Firestore data models and security rules
- API route implementations
- Server-side validation

**Workstream B: UI Components & Pages** (4-5 hours)
- Job posting forms
- Job listing views
- Application forms
- Dashboard layouts

**Workstream C: Integration & Testing** (1-2 hours)
- Connect frontend to API
- End-to-end flow testing
- Bug fixes and polish

---

## Complete Data Models

### 1. Jobs Collection

```typescript
// Collection: jobs
// Document ID: Auto-generated by Firestore

interface Job {
  // Identity
  id: string;                    // Derived from Firestore document ID (map from doc.id)
  ownerId: string;               // Firebase UID of job poster (indexed)

  // Core Details
  title: string;                 // Job title (required, 5-100 chars)
  company: string;               // Company name (required, 2-100 chars)
  description: string;           // Full job description (required, 50-5000 chars, supports markdown)

  // Classification
  type: 'full-time' | 'part-time' | 'contract' | 'freelance';
  location: string;              // e.g., "Remote", "New York, NY", "Hybrid - San Francisco"
  remote: boolean;               // true if remote work allowed

  // Compensation
  salary?: {
    min: number;                 // Minimum salary
    max: number;                 // Maximum salary
    currency: string;            // ISO currency code (default: "USD")
    period: 'hourly' | 'monthly' | 'yearly';
  };

  // Requirements
  requirements?: string[];       // Array of requirement strings
  skills?: string[];             // Required skills/technologies
  experience?: 'entry' | 'mid' | 'senior' | 'lead';

  // Status & Metadata
  status: 'draft' | 'published' | 'closed';
  viewCount: number;             // Number of views (default: 0)
  applicationCount: number;      // Number of applications (default: 0)

  // Timestamps
  createdAt: Timestamp;          // Firestore server timestamp
  updatedAt: Timestamp;          // Updated on every edit
  publishedAt?: Timestamp;       // When job was published
  expiresAt?: Timestamp;         // Optional expiration date
}

// Implementation note:
// - Firestore does not persist the `id` field; set it manually when mapping snapshots (doc.id).

// Firestore Indexes Required:
// - ownerId (ascending)
// - status (ascending) + createdAt (descending)
// - type (ascending) + status (ascending)
// - location (ascending) + status (ascending)
```

### 2. Applications Collection

```typescript
// Collection: applications
// Document ID: Auto-generated by Firestore

interface Application {
  // Identity
  id: string;                    // Derived from Firestore document ID (map from doc.id)
  jobId: string;                 // Reference to job (indexed)
  seekerId: string;              // Firebase UID of applicant (indexed)
  ownerId: string;               // Job owner UID (denormalized, indexed)

  // Application Data
  coverLetter?: string;          // Optional cover letter (0-2000 chars)
  resumeUrl?: string;            // Cloud Storage URL (optional for MVP)
  phone?: string;                // Optional phone number

  // Denormalized Job Data (for display without joins)
  jobTitle: string;              // Copy of job.title
  company: string;               // Copy of job.company

  // Denormalized Seeker Data
  seekerName: string;            // Applicant display name
  seekerEmail: string;           // Applicant email (from user profile)

  // Status & Workflow
  status: 'pending' | 'reviewed' | 'accepted' | 'rejected';
  notes?: string;                // Owner's private notes about application

  // Timestamps
  createdAt: Timestamp;          // When application was submitted
  updatedAt: Timestamp;          // Last status change
  reviewedAt?: Timestamp;        // When owner first viewed
}

// Implementation note:
// - Populate `id`, `jobTitle`, `company`, and seeker fields when processing snapshots to avoid extra reads.

// Firestore Indexes Required:
// - jobId (ascending) + createdAt (descending)
// - seekerId (ascending) + createdAt (descending)
// - ownerId (ascending) + status (ascending) + createdAt (descending)
```

### 3. Users Collection (Extensions)

```typescript
// Collection: users (existing, add these fields)

interface UserExtensions {
  // Existing fields: uid, email, displayName, role, subActive, stripeCustomerId...

  // New fields for job board
  bio?: string;                  // User bio/description
  phone?: string;                // Phone number
  location?: string;             // User location

  // Stats (for dashboard)
  jobsPosted?: number;           // Total jobs posted (owners only)
  applicationsSubmitted?: number; // Total applications (seekers only)

  // Profile completeness
  profileComplete?: boolean;     // Whether profile is complete
}
```

---

## API Endpoints Specification

### Jobs API

#### `POST /api/jobs` - Create Job

**Authentication**: Required (Bearer token)
**Authorization**: User must have `subActive: true` custom claim
**Rate Limit**: 10 jobs per hour per user

**Request Body**:
```json
{
  "title": "Senior React Developer",
  "company": "TechCorp Inc",
  "description": "We are looking for an experienced React developer...",
  "type": "full-time",
  "location": "Remote",
  "remote": true,
  "salary": {
    "min": 120000,
    "max": 180000,
    "currency": "USD",
    "period": "yearly"
  },
  "requirements": ["5+ years React", "TypeScript experience"],
  "skills": ["React", "TypeScript", "Next.js"],
  "experience": "senior",
  "status": "published"
}
```

**Response** (201 Created):
```json
{
  "id": "job_abc123",
  "message": "Job created successfully",
  "job": { /* full job object */ }
}
```

**Errors**:
- `401 Unauthorized` - No auth token
- `403 Forbidden` - No active subscription
- `400 Bad Request` - Validation errors
- `429 Too Many Requests` - Rate limit exceeded

---

#### `GET /api/jobs` - List Jobs

**Authentication**: Optional
**Query Parameters**:
- `ownerId` (string) - Filter by owner (requires auth)
- `status` (string) - Filter by status (default: "published" for public)
- `type` (string) - Filter by job type
- `location` (string) - Filter by location (partial match)
- `remote` (boolean) - Filter remote jobs only
- `page` (number) - Page number (default: 1)
- `limit` (number) - Items per page (default: 20, max: 100)

**Response** (200 OK):
```json
{
  "jobs": [
    { /* job object */ },
    { /* job object */ }
  ],
  "pagination": {
    "page": 1,
    "limit": 20,
    "total": 45,
    "pages": 3
  }
}
```

---

#### `GET /api/jobs/[id]` - Get Single Job

**Authentication**: Optional
**Authorization**: Draft jobs only visible to owner

**Response** (200 OK):
```json
{
  "id": "job_abc123",
  "title": "Senior React Developer",
  /* ... full job object ... */
}
```

**Errors**:
- `404 Not Found` - Job doesn't exist
- `403 Forbidden` - Draft job, not owner

---

#### `PUT /api/jobs/[id]` - Update Job

**Authentication**: Required
**Authorization**: Must be job owner

**Request Body**: Same as POST (partial updates allowed)

**Response** (200 OK):
```json
{
  "message": "Job updated successfully",
  "job": { /* updated job object */ }
}
```

---

#### `DELETE /api/jobs/[id]` - Delete Job

**Authentication**: Required
**Authorization**: Must be job owner

**Response** (200 OK):
```json
{
  "message": "Job deleted successfully"
}
```

---

### Applications API

#### `POST /api/jobs/[id]/apply` - Submit Application

**Authentication**: Required
**Authorization**: User role must be "seeker"

**Request Body**:
```json
{
  "coverLetter": "I am excited to apply for this position...",
  "phone": "+1-555-0123"
}
```

**Response** (201 Created):
```json
{
  "id": "app_xyz789",
  "message": "Application submitted successfully",
  "application": { /* full application object */ }
}
```

**Errors**:
- `400 Bad Request` - Already applied to this job
- `403 Forbidden` - User role is "owner", not "seeker"
- `404 Not Found` - Job doesn't exist or is closed

---

#### `GET /api/applications` - List Applications

**Authentication**: Required
**Authorization**: Seeker can access only their own applications; owner can access applications tied to their jobs (enforce via token claims + query validation)
**Query Parameters**:
- `jobId` (string) - Filter by job (owner only)
- `seekerId` (string) - Filter by seeker (self only)
- `ownerId` (string) - Filter by owner (self only)
- `status` (string) - Filter by status
- `page` (number) - Page number
- `limit` (number) - Items per page

**Response** (200 OK):
```json
{
  "applications": [
    { /* application object */ }
  ],
  "pagination": { /* pagination info */ }
}
```

---

#### `PATCH /api/applications/[id]` - Update Application Status

**Authentication**: Required
**Authorization**: Must be job owner

**Request Body**:
```json
{
  "status": "reviewed",
  "notes": "Great candidate, schedule interview"
}
```

**Response** (200 OK):
```json
{
  "message": "Application updated successfully",
  "application": { /* updated application */ }
}
```

---

## Page & Route Structure

### Public Pages

#### `/` - Homepage
- Hero section with value proposition
- CTA buttons: "Post a Job" (owners) / "Find Jobs" (seekers)
- Featured jobs section (latest 6 published jobs)
- How it works section
- Footer with links

#### `/jobs` - Job Listings (Public)
- Grid/list of all published jobs
- Filters sidebar: Type, Location, Remote, Experience
- Search bar (client-side filtering for MVP)
- Pagination
- Each job card shows: title, company, location, type, salary range
- Click to view job details

#### `/jobs/[id]` - Job Detail Page
- Full job information display
- "Apply Now" button (logged-in seekers only)
- Company info
- Requirements and skills list
- Related jobs section (optional)

### Protected Pages (Authentication Required)

#### `/jobs/new` - Create Job
- **Role**: Owner with active subscription
- Multi-step form or single page form
- Real-time validation
- Save as draft or publish
- Preview mode

#### `/jobs/[id]/edit` - Edit Job
- **Role**: Owner (must own job)
- Same form as creation
- Pre-filled with existing data
- Option to change status (draft ↔ published ↔ closed)

#### `/dashboard` - Unified Dashboard
- **Role-based routing**:
  - Owners → `/dashboard/owner`
  - Seekers → `/dashboard/seeker`
- Redirect based on user role from AuthContext

#### `/dashboard/owner` - Owner Dashboard
- **Sections**:
  1. Stats overview: Total jobs, Total applications, Active jobs
  2. Recent applications (last 10)
  3. My jobs table with actions (edit, delete, view applications)
  4. "Create New Job" button
- **Data fetching**: Real-time Firestore listeners for jobs and applications

#### `/dashboard/seeker` - Seeker Dashboard
- **Sections**:
  1. Stats overview: Applications submitted, Pending, Accepted
  2. My applications table with status
  3. Recommended jobs (optional for MVP)
  4. "Browse Jobs" button
- **Data fetching**: Real-time Firestore listeners for applications

#### `/jobs/[id]/applications` - Job Applications (Owner Only)
- List of all applications for a specific job
- Filter by status
- Quick actions: Accept, Reject, Mark as reviewed
- View applicant details
- Export to CSV (optional)

### Auth Pages (Existing)
- `/login` - Already implemented
- `/signup` - Already implemented
- `/subscribe` - Already implemented

---

## UI Components Needed

### New Components to Build

#### 1. `JobCard` Component
**Location**: `src/components/job-card.tsx`

**Props**:
```typescript
interface JobCardProps {
  job: {
    id: string
    title: string
    company: string
    location: string
    type: string
    salary?: { min: number; max: number; currency: string }
    createdAt: Date
  }
  variant?: 'default' | 'compact'
  showActions?: boolean  // Show edit/delete buttons for owner
}
```

**Features**:
- Responsive card layout
- Type badge (Full-time, Part-time, etc.)
- Location with icon
- Salary range display
- "View Details" button
- Optional edit/delete actions for owners

---

#### 2. `JobForm` Component
**Location**: `src/components/job-form.tsx`

**Props**:
```typescript
interface JobFormProps {
  mode: 'create' | 'edit'
  initialData?: Job
  onSubmit: (data: JobFormData) => Promise<void>
}
```

**Form Fields**:
- Title (text input)
- Company (text input)
- Description (textarea with markdown support)
- Type (select dropdown)
- Location (text input with suggestions)
- Remote toggle
- Salary fields (min, max, currency, period)
- Requirements (dynamic text inputs)
- Skills (tag input)
- Experience level (select)
- Status (draft/published radio buttons)

**Validation**: Zod schema with real-time error display

---

#### 3. `ApplicationCard` Component
**Location**: `src/components/application-card.tsx`

**Props**:
```typescript
interface ApplicationCardProps {
  application: Application
  viewMode: 'owner' | 'seeker'
  onStatusChange?: (id: string, status: string) => void
}
```

**Owner View**:
- Applicant name and email
- Application date
- Status badge
- Cover letter preview
- Actions: Accept, Reject, View full details

**Seeker View**:
- Job title and company
- Application date
- Status badge
- Link to job details

---

#### 4. `JobFilters` Component
**Location**: `src/components/job-filters.tsx`

**Props**:
```typescript
interface JobFiltersProps {
  onFilterChange: (filters: JobFilters) => void
  currentFilters: JobFilters
}
```

**Filter Options**:
- Job type (checkboxes)
- Location (text input)
- Remote only (toggle)
- Experience level (checkboxes)
- Salary range (slider or min/max inputs)

---

#### 5. `DashboardStats` Component
**Location**: `src/components/dashboard-stats.tsx`

**Props**:
```typescript
interface DashboardStatsProps {
  stats: {
    label: string
    value: number | string
    icon?: LucideIcon
    change?: { value: number; trend: 'up' | 'down' }
  }[]
}
```

**Design**: Grid of stat cards with icons and trend indicators

---

#### 6. `ApplicationForm` Component
**Location**: `src/components/application-form.tsx`

**Props**:
```typescript
interface ApplicationFormProps {
  jobId: string
  jobTitle: string
  onSubmit: (data: ApplicationFormData) => Promise<void>
}
```

**Form Fields**:
- Cover letter (textarea, optional)
- Phone number (text input, optional)
- Confirmation checkbox ("I agree to terms")
- Submit button

---

### Existing Components to Use

Already available from shadcn/ui:
- `Button` - For all actions
- `Card` - For job cards, stat cards
- `Form` + `Input` + `Label` - For all forms
- `Badge` - For job type, status badges
- `Textarea` - For descriptions
- `Select` - For dropdowns
- `Checkbox` - For filters
- `Table` - For application lists

---

## Firestore Security Rules

**Location**: Firebase Console → Firestore → Rules

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // Helper functions
    function isAuthenticated() {
      return request.auth != null;
    }

    function isOwner(userId) {
      return isAuthenticated() && request.auth.uid == userId;
    }

    function hasActiveSubscription() {
      return isAuthenticated() &&
             request.auth.token.subActive == true;
    }

    function getUserRole() {
      return get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role;
    }

    // Users collection
    match /users/{userId} {
      allow read: if isAuthenticated();
      allow write: if isOwner(userId);
    }

    // Jobs collection
    match /jobs/{jobId} {
      // Anyone can read published jobs
      allow read: if resource.data.status == 'published' ||
                     isOwner(resource.data.ownerId);

      // Only subscription holders can create jobs
      allow create: if isAuthenticated() &&
                       hasActiveSubscription() &&
                       request.resource.data.ownerId == request.auth.uid;

      // Only job owner can update/delete
      allow update, delete: if isOwner(resource.data.ownerId);
    }

    // Applications collection
    match /applications/{applicationId} {
      // Job owner can read all applications for their jobs
      // Seeker can read their own applications
      allow read: if isAuthenticated() && (
                       isOwner(resource.data.seekerId) ||
                       isOwner(resource.data.ownerId)
                     );

      // Seekers can create applications
      allow create: if isAuthenticated() &&
                       request.resource.data.seekerId == request.auth.uid &&
                       getUserRole() == 'seeker';

      // Only job owner can update application status
      allow update: if isOwner(resource.data.ownerId);

      // Only seeker can delete their own application
      allow delete: if isOwner(resource.data.seekerId);
    }
  }
}
```

---

## Implementation Sequence

### Phase 1: Backend Foundation (90 minutes)

**Step 1.1: Setup Data Models** (20 min)
- [ ] Create TypeScript interfaces in `src/types/job.ts`
- [ ] Create TypeScript interfaces in `src/types/application.ts`
- [ ] Add Zod validation schemas for forms

**Step 1.2: Firestore Security Rules** (15 min)
- [ ] Deploy security rules from above to Firebase Console
- [ ] Test rules using Firebase Emulator

**Step 1.3: Jobs API Routes** (30 min)
- [ ] Create `/api/jobs/route.ts` (GET, POST)
- [ ] Create `/api/jobs/[id]/route.ts` (GET, PUT, DELETE)
- [ ] Add subscription verification middleware
- [ ] Test with Postman/curl

**Step 1.4: Applications API Routes** (25 min)
- [ ] Create `/api/jobs/[id]/apply/route.ts` (POST)
- [ ] Create `/api/applications/route.ts` (GET)
- [ ] Create `/api/applications/[id]/route.ts` (PATCH)
- [ ] Test API endpoints

---

### Phase 2: UI Components (120 minutes)

**Step 2.1: Job Components** (45 min)
- [ ] Build `JobCard` component with variants
- [ ] Build `JobForm` component with validation
- [ ] Build `JobFilters` component
- [ ] Test components via a temporary playground route or direct page render (no Storybook configured)

**Step 2.2: Application Components** (30 min)
- [ ] Build `ApplicationCard` component
- [ ] Build `ApplicationForm` component
- [ ] Build status badge component

**Step 2.3: Dashboard Components** (30 min)
- [ ] Build `DashboardStats` component
- [ ] Build data table components for jobs/applications
- [ ] Create empty state components

**Step 2.4: Loading & Error States** (15 min)
- [ ] Create loading skeletons for all views
- [ ] Create error boundary components
- [ ] Add toast notifications for success/error

---

### Phase 3: Pages & Routes (120 minutes)

**Step 3.1: Job Pages** (50 min)
- [ ] `/jobs` - Public job listing page with filters
- [ ] `/jobs/[id]` - Job detail page
- [ ] `/jobs/new` - Job creation form
- [ ] `/jobs/[id]/edit` - Job editing page

**Step 3.2: Dashboard Pages** (40 min)
- [ ] `/dashboard` - Role-based router
- [ ] `/dashboard/owner` - Owner dashboard
- [ ] `/dashboard/seeker` - Seeker dashboard
- [ ] `/jobs/[id]/applications` - Applications list for owners

**Step 3.3: Integration** (30 min)
- [ ] Connect forms to API routes
- [ ] Add real-time Firestore listeners for dashboards
- [ ] Implement client-side routing and navigation
- [ ] Add authentication guards to protected routes

---

### Phase 4: Testing & Polish (90 minutes)

**Step 4.1: End-to-End Testing** (40 min)
- [ ] Test full job posting flow (create → publish → view)
- [ ] Test application flow (browse → apply → view status)
- [ ] Test owner application review flow
- [ ] Test all error cases and edge cases

**Step 4.2: UI/UX Polish** (30 min)
- [ ] Add loading states to all async operations
- [ ] Improve form validation messages
- [ ] Add confirmation dialogs for destructive actions
- [ ] Responsive design verification (mobile, tablet, desktop)

**Step 4.3: Performance & SEO** (20 min)
- [ ] Add metadata to public pages
- [ ] Implement pagination for large lists
- [ ] Optimize images and assets
- [ ] Test page load performance

---

### Phase 5: Deployment Prep (30 minutes)

- [ ] Run `npm run build` and fix any errors
- [ ] Run `npm run lint` and fix all issues
- [ ] Deploy Firestore security rules to production
- [ ] Create Firestore indexes (from error messages)
- [ ] Test production build locally with `npm start`
- [ ] Update environment variables for production
- [ ] Create deployment documentation

---

## Design Specifications for AI Tools

### Prompt Templates for Design Generation

#### Homepage Hero Section
```
Design a modern, professional hero section for a job board SaaS platform called "ShopMatch Pro".

Style: Clean, minimalist, professional
Colors: Primary blue (#3b82f6), secondary purple (#8b5cf6), neutral grays
Layout: Split layout with text on left, illustration on right

Elements:
- Headline: "Find Your Perfect Match" (large, bold)
- Subheadline: "Connect talented job seekers with top employers"
- Two CTA buttons: "Post a Job" (primary) and "Find Jobs" (secondary)
- Hero illustration: Abstract representation of job matching/connection
- Trust indicators: "1000+ Jobs Posted" | "500+ Companies"

Responsive: Desktop-first, mobile-friendly
Format: Modern web design, React/Next.js compatible
```

---

#### Job Card Component
```
Design a job listing card component for a job board application.

Style: Card-based, clean, scannable
Size: 350px wide x 200px tall (desktop)
Colors: White background, blue accent (#3b82f6), gray text (#6b7280)

Elements:
1. Company logo placeholder (48x48px, top-left)
2. Job title (bold, 18px, truncate after 2 lines)
3. Company name (gray, 14px)
4. Location with pin icon (gray, 12px)
5. Job type badge (pill shape, colored: Full-time=blue, Contract=purple, etc.)
6. Salary range (bold, 14px) or "Competitive" if not specified
7. Posted date (light gray, 12px, bottom-right)
8. Hover state: Slight shadow, scale transform

Layout: Grid or list view compatible
State variations: Default, Hover, Selected
```

---

#### Owner Dashboard Layout
```
Design a dashboard layout for job owners to manage their job postings.

Style: Modern SaaS dashboard, data-focused
Layout: Sidebar + main content area

Top Section (Stats):
- 4 stat cards in a row
- Each card shows: Icon, Label, Large number, Trend indicator
- Cards: "Active Jobs", "Total Applications", "New This Week", "Response Rate"

Main Content:
- Jobs table with columns: Title, Status, Applications, Views, Posted Date, Actions
- Action buttons per row: Edit, View Applications, Delete
- "Create New Job" button (primary, top-right)

Sidebar:
- User profile section
- Navigation: Dashboard, My Jobs, Applications, Settings
- Active subscription indicator with renewal date

Colors: Professional blue theme, white cards, subtle shadows
Tables: Striped rows, sortable columns
```

---

#### Job Application Form
```
Design an application form modal/page for job seekers.

Style: Simple, focused, encouraging
Container: Modal overlay or dedicated page

Header:
- Job title and company name
- Close button (X, top-right)

Form Fields:
1. Email (pre-filled, read-only)
2. Phone (optional, tel input with format validation)
3. Cover letter (textarea, 5 rows, placeholder text)
4. Resume upload (drag-and-drop zone) - Optional for MVP
5. Terms checkbox "I agree to terms and conditions"

Footer:
- "Cancel" button (secondary, left)
- "Submit Application" button (primary, right, disabled until valid)

Validation: Real-time, inline error messages
Success State: Checkmark animation + "Application Submitted!" message

Colors: Encouraging green for success, blue for primary action
```

---

#### Mobile Job Listing View
```
Design a mobile-optimized job listing view.

Device: iPhone 13 Pro (390x844px)
Style: Native app feel, touch-friendly

Layout:
- Fixed search bar at top
- Filter chips (horizontal scroll): All, Remote, Full-time, Part-time
- Job cards (stacked vertically):
  - Company logo (32x32px)
  - Job title (16px, bold, 2 lines max)
  - Company name + location (14px, gray)
  - Salary + type (14px)
  - "Apply" button (full width, bottom)
  - Card spacing: 16px vertical gap

Interactions:
- Pull to refresh
- Infinite scroll loading
- Tap card to view details
- Swipe gestures (optional)

Colors: Same as desktop theme
Touch Targets: Minimum 44x44px
```

---

### Component Library Color Palette

```css
/* Primary Colors */
--primary-blue: #3b82f6;
--primary-blue-hover: #2563eb;
--primary-blue-light: #dbeafe;

/* Secondary Colors */
--secondary-purple: #8b5cf6;
--secondary-purple-hover: #7c3aed;
--secondary-purple-light: #ede9fe;

/* Accent Colors */
--accent-green: #10b981;  /* Success */
--accent-red: #ef4444;    /* Danger */
--accent-yellow: #f59e0b; /* Warning */

/* Neutral Colors */
--gray-50: #f9fafb;
--gray-100: #f3f4f6;
--gray-200: #e5e7eb;
--gray-300: #d1d5db;
--gray-600: #4b5563;
--gray-700: #374151;
--gray-900: #111827;

/* Job Type Badge Colors */
--badge-fulltime: #3b82f6;
--badge-parttime: #8b5cf6;
--badge-contract: #f59e0b;
--badge-freelance: #10b981;

/* Status Colors */
--status-draft: #6b7280;
--status-published: #10b981;
--status-closed: #ef4444;
--status-pending: #f59e0b;
--status-accepted: #10b981;
--status-rejected: #ef4444;
```

---

### Typography System

```css
/* Font Family */
--font-sans: 'Inter', -apple-system, system-ui, sans-serif;
--font-mono: 'Fira Code', monospace;

/* Font Sizes */
--text-xs: 0.75rem;    /* 12px */
--text-sm: 0.875rem;   /* 14px */
--text-base: 1rem;     /* 16px */
--text-lg: 1.125rem;   /* 18px */
--text-xl: 1.25rem;    /* 20px */
--text-2xl: 1.5rem;    /* 24px */
--text-3xl: 1.875rem;  /* 30px */
--text-4xl: 2.25rem;   /* 36px */

/* Font Weights */
--font-normal: 400;
--font-medium: 500;
--font-semibold: 600;
--font-bold: 700;

/* Line Heights */
--leading-tight: 1.25;
--leading-normal: 1.5;
--leading-relaxed: 1.75;
```

---

## Testing Checklist

### Functional Testing

**Job Posting Flow**:
- [ ] Owner with active subscription can create job
- [ ] Owner without subscription sees upgrade prompt
- [ ] Job can be saved as draft
- [ ] Draft jobs not visible to public
- [ ] Published jobs appear in public listing
- [ ] Owner can edit their own jobs
- [ ] Owner can delete jobs
- [ ] Deleted jobs are removed from Firestore
- [ ] Form validation catches all invalid inputs

**Job Discovery Flow**:
- [ ] Public job listing shows all published jobs
- [ ] Filters work correctly (type, location, remote)
- [ ] Search returns relevant results
- [ ] Pagination works correctly
- [ ] Job detail page shows all information
- [ ] "Apply Now" button only visible to logged-in seekers

**Application Flow**:
- [ ] Seeker can apply to jobs
- [ ] Cannot apply to same job twice
- [ ] Application appears in seeker's dashboard
- [ ] Application appears in owner's dashboard
- [ ] Owner can change application status
- [ ] Status changes reflect immediately

**Dashboard Flow**:
- [ ] Owner dashboard shows correct stats
- [ ] Seeker dashboard shows correct stats
- [ ] Real-time updates work (new applications)
- [ ] Role-based routing works correctly
- [ ] Tables are sortable and filterable

**Authentication & Authorization**:
- [ ] Unauthenticated users redirected to login
- [ ] Role checks prevent unauthorized actions
- [ ] Subscription checks work for job posting
- [ ] Custom claims updated after subscription

### UI/UX Testing

- [ ] All forms have proper validation messages
- [ ] Loading states show during async operations
- [ ] Error states display helpful messages
- [ ] Empty states show when no data
- [ ] Responsive design works on mobile/tablet/desktop
- [ ] Buttons have hover/active states
- [ ] Modals close on escape key
- [ ] Forms reset after submission
- [ ] Toast notifications appear for actions

### Performance Testing

- [ ] Job listing loads in < 2 seconds
- [ ] Dashboard loads in < 1 second
- [ ] No console errors or warnings
- [ ] Images are optimized
- [ ] Lighthouse score > 90 (Performance)
- [ ] No memory leaks (check React DevTools)

### Cross-Browser Testing

- [ ] Chrome (latest)
- [ ] Safari (latest)
- [ ] Firefox (latest)
- [ ] Edge (latest)
- [ ] Mobile Safari (iOS)
- [ ] Mobile Chrome (Android)

### Security Testing

- [ ] API routes verify authentication
- [ ] Firestore rules prevent unauthorized access
- [ ] No sensitive data in client-side code
- [ ] CORS configured correctly
- [ ] Rate limiting works (if implemented)
- [ ] SQL injection not possible (Firestore)
- [ ] XSS protection enabled

---

## Quick Start Command Reference

```bash
# Start development
npm run dev

# Run linting
npm run lint

# Build for production
npm run build

# Start production server
npm run start

# Validate environment
npm run validate-env

# Create test user
npm run create-user

# Deploy Firestore rules (manual)
# Go to Firebase Console → Firestore → Rules → Paste rules → Publish

# Create Firestore indexes (automated)
# Run queries that need indexes, Firebase will show error with index creation link
```

---

## AI Assistant Prompts

### For Code Generation

**Job API Route**:
```
Create a Next.js 15 API route for managing jobs at /api/jobs/route.ts.

Requirements:
- POST handler to create jobs (requires auth + subscription)
- GET handler to list jobs with filters (public)
- Use Firebase Admin SDK for auth verification
- Validate request body with Zod
- Return proper HTTP status codes
- Add TypeScript types
- Handle errors gracefully

Use the Job interface from the data model section.
```

**Job Form Component**:
```
Create a React component for a job posting form using React Hook Form and Zod.

Requirements:
- Form fields: title, company, description, type, location, remote, salary
- Zod schema validation
- Real-time error messages
- Submit handler that calls API
- Loading and error states
- Use shadcn/ui form components
- TypeScript with proper types

Style: Clean, professional, accessible
```

**Owner Dashboard**:
```
Create an owner dashboard page in Next.js 15 with App Router.

Requirements:
- Protected route (check auth + role)
- Real-time Firestore queries for jobs and applications
- Stats cards showing: Total jobs, Active jobs, Total applications, New applications
- Table of jobs with actions (edit, delete, view applications)
- "Create New Job" button
- Use Firestore onSnapshot for real-time updates
- Proper loading and error states
- TypeScript with types from data models
```

---

## Success Criteria

**MVP is complete when**:
1. ✅ Owner can create, edit, delete, and view their job postings
2. ✅ Anyone can browse published jobs with filters
3. ✅ Seekers can apply to jobs with cover letter
4. ✅ Owners can view and manage applications
5. ✅ Dashboards show real-time data for both roles
6. ✅ All flows work end-to-end without errors
7. ✅ Production build succeeds
8. ✅ App is deployed and accessible

**Bonus points**:
- Mobile-responsive on all pages
- Smooth animations and transitions
- Professional design matching brand
- Fast page loads (< 2s)
- Accessibility compliance (keyboard navigation, ARIA labels)

---

## Notes for Parallel Development

If working with multiple developers or AI assistants:

**Backend Team**: Focus on API routes and Firestore setup
- Start with jobs API
- Then applications API
- Deploy security rules early

**Frontend Team**: Build components in isolation
- Start with JobCard and JobForm
- Use mock data initially
- Connect to API once ready

**Integration Team**: Connect frontend to backend
- Add real-time listeners
- Implement error handling
- Test all flows

**Timeline**: With 3 parallel workstreams, MVP can be done in 6-8 hours of focused work.
